/*!
 * Angular Tooltips v0.1.9
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-12-30
 */


!function(a){"use strict";a.module("720kb.tooltips",[]).directive("tooltips",["$window","$compile","$timeout",function(b,c,d){var e=8,f=9,g=10,h="_720kb-tooltip-";return{restrict:"A",scope:{},link:function(i,j,k){function l(){K&&w||(w=!0,i.initTooltip(E)),G&&i.tooltipTryPosition(),i.showTooltip()}function m(){d(i.hideTooltip,Number(O))}function n(){d(function(){i.hideTooltip(),i.initTooltip(D)},Number(O))}var o,p,q,r,s,t,u,v,w=!1,x=a.element(j[0]),y=a.element(b.document.getElementsByTagName("body")[0]),z=k.tooltipTitle||k.title||"",A=k.tooltipContent||"",B=k.tooltipShowTrigger||"mouseover",C=k.tooltipHideTrigger||"mouseleave",D=k.tooltipSide||"top",E=D,F=k.tooltipSize||"medium",G="undefined"!=typeof k.tooltipTry&&null!==k.tooltipTry?i.$eval(k.tooltipTry):!0,H="undefined"!=typeof k.tooltipBindHtml&&null!==k.tooltipBindHtml?i.$eval(k.tooltipBindHtml):!1,I=k.tooltipClass||"",J=(k.tooltipSpeed||"medium").toLowerCase(),K="undefined"!=typeof k.tooltipLazy&&null!==k.tooltipLazy?i.$eval(k.tooltipLazy):!0,L="undefined"!=typeof k.tooltipCloseButton&&null!==k.tooltipCloseButton,M=k.tooltipCloseButton||"",N='<div class="_720kb-tooltip '+h+F+'">',O=k.tooltipHideDelay||"0";L&&(N+='<span class="'+h+'close-button" ng-click="hideTooltip()"> '+M+" </span>"),N+='<div class="'+h+'title"> {{title}}</div>',N+=H?'<span ng-bind-html="content"></span>':"{{content}}",N+='<span class="'+h+'caret"></span></div>',i.title=z,i.content=A,i.parseSpeed=function(){switch(J){case"fast":J=100;break;case"medium":J=450;break;case"slow":J=800;break;default:J=Number(J)}},o=c(N)(i),o.addClass(I),y.append(o),i.isTooltipEmpty=function(){return i.title||i.content?void 0:!0},i.initTooltip=function(a){i.isTooltipEmpty()?o.css("visibility","hidden"):(o.css("visibility",""),s=x[0].offsetHeight,t=x[0].offsetWidth,u=i.getRootOffsetTop(x[0],0),v=i.getRootOffsetLeft(x[0],0),p=o[0].offsetHeight,q=o[0].offsetWidth,i.parseSpeed(),i.tooltipPositioning(a))},i.getRootOffsetTop=function(a,b){return null===a.offsetParent?b+a.offsetTop:i.getRootOffsetTop(a.offsetParent,b+a.offsetTop)},i.getRootOffsetLeft=function(a,b){return null===a.offsetParent?b+a.offsetLeft:i.getRootOffsetLeft(a.offsetParent,b+a.offsetLeft)},i.bindShowTriggers=function(){x.bind(B,l)},i.bindHideTriggers=function(){x.bind(C,m)},i.clearTriggers=function(){x.unbind(B,l),x.unbind(C,m)},i.bindShowTriggers(),i.showTooltip=function(){o.addClass(h+"open"),o.css("transition","opacity "+J+"ms linear"),i.clearTriggers(),i.bindHideTriggers()},i.hideTooltip=function(){o.removeClass(h+"open"),o.css("transition",""),i.clearTriggers(),i.bindShowTriggers()},i.removePosition=function(){o.removeClass(h+"left").removeClass(h+"right").removeClass(h+"top").removeClass(h+"bottom ")},i.tooltipPositioning=function(a){i.removePosition();var b,c;"small"===F?r=e:"medium"===F?r=f:"large"===F&&(r=g),"left"===a&&(b=u+s/2-p/2,c=v-(q+r),o.css("top",b+"px"),o.css("left",c+"px"),o.addClass(h+"left")),"right"===a&&(b=u+s/2-p/2,c=v+t+r,o.css("top",b+"px"),o.css("left",c+"px"),o.addClass(h+"right")),"top"===a&&(b=u-r-p,c=v+t/2-q/2,o.css("top",b+"px"),o.css("left",c+"px"),o.addClass(h+"top")),"bottom"===a&&(b=u+s+r,c=v+t/2-q/2,o.css("top",b+"px"),o.css("left",c+"px"),o.addClass(h+"bottom"))},i.tooltipTryPosition=function(){var a=o[0].offsetHeight,c=o[0].offsetWidth,d=o[0].offsetTop,e=o[0].offsetLeft,f=b.outerWidth,g=b.outerHeight,h=f-(c+e),j=g-(a+d),k=x[0].offsetHeight,l=x[0].offsetWidth,m=x[0].offsetLeft,n=x[0].offsetTop,p=f-(m+l),q=g-(k+n),r={left:e,top:d,bottom:j,right:h},s={left:m,right:p,top:n,bottom:q},t=Object.keys(s).reduce(function(a,b){return s[a]>s[b]?a:b}),u=Object.keys(r).reduce(function(a,b){return r[a]<r[b]?a:b});D!==t&&r[u]<20&&(E=t,i.tooltipPositioning(E),i.initTooltip(t))},a.element(b).bind("resize",n),i.$on("$destroy",function(){a.element(b).unbind("resize",n),i.clearTriggers(),o.remove()}),k.tooltipTitle?k.$observe("tooltipTitle",function(a){i.title=a,i.initTooltip(E)}):k.title&&k.$observe("title",function(a){i.title=a,i.initTooltip(E)}),k.tooltipContent&&k.$observe("tooltipContent",function(a){i.content=a,i.initTooltip(E)})}}}])}(angular);
//# sourceMappingURL=angular-tooltips.sourcemap.map