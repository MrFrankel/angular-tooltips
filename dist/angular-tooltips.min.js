/*!
 * Angular Tooltips v0.1.9
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2016-04-18
 */


!function(a){"use strict";a.module("720kb.tooltips",[]).directive("tooltips",["$window","$compile","$timeout",function(b,c,d){var e=8,f=9,g=10,h="_720kb-tooltip-";return{restrict:"A",scope:{},link:function(i,j,k){function l(){L&&x||(x=!0,i.initTooltip(F)),H&&i.tooltipTryPosition(),i.showTooltip()}function m(a){a.preventDefault(),a.stopPropagation()}function n(){d(i.hideTooltip,Number(P))}function o(){d(function(){i.hideTooltip(),i.initTooltip(E)},Number(P))}var p,q,r,s,t,u,v,w,x=!1,y=a.element(j[0]),z=a.element(b.document.getElementsByTagName("body")[0]),A=k.tooltipTitle||k.title||"",B=k.tooltipContent||"",C=k.tooltipShowTrigger||"mouseover",D=k.tooltipHideTrigger||"mouseleave",E=k.tooltipSide||"top",F=E,G=k.tooltipSize||"medium",H="undefined"!=typeof k.tooltipTry&&null!==k.tooltipTry?i.$eval(k.tooltipTry):!0,I="undefined"!=typeof k.tooltipBindHtml&&null!==k.tooltipBindHtml?i.$eval(k.tooltipBindHtml):!1,J=k.tooltipClass||"",K=(k.tooltipSpeed||"medium").toLowerCase(),L="undefined"!=typeof k.tooltipLazy&&null!==k.tooltipLazy?i.$eval(k.tooltipLazy):!0,M="undefined"!=typeof k.tooltipCloseButton&&null!==k.tooltipCloseButton,N=k.tooltipCloseButton||"",O='<div class="_720kb-tooltip '+h+G+'">',P=k.tooltipHideDelay||"0",Q=!!k.tooltipCancelClickEvent;M&&(O+='<span class="'+h+'close-button" ng-click="hideTooltip()"> '+N+" </span>"),O+='<div class="'+h+'title"> {{title}}</div>',O+=I?'<span ng-bind-html="content"></span>':"{{content}}",O+='<span class="'+h+'caret"></span></div>',i.title=A,i.content=B,i.parseSpeed=function(){switch(K){case"fast":K=100;break;case"medium":K=450;break;case"slow":K=800;break;default:K=Number(K)}},p=c(O)(i),p.addClass(J),z.append(p),i.isTooltipEmpty=function(){return i.title||i.content?void 0:!0},i.initTooltip=function(a){i.isTooltipEmpty()?p.css("visibility","hidden"):(p.css("visibility",""),t=y[0].offsetHeight,u=y[0].offsetWidth,v=i.getRootOffsetTop(y[0],0),w=i.getRootOffsetLeft(y[0],0),q=p[0].offsetHeight,r=p[0].offsetWidth,i.parseSpeed(),i.tooltipPositioning(a))},i.getRootOffsetTop=function(a,b){return null===a.offsetParent?b+a.offsetTop:i.getRootOffsetTop(a.offsetParent,b+a.offsetTop)},i.getRootOffsetLeft=function(a,b){return null===a.offsetParent?b+a.offsetLeft:i.getRootOffsetLeft(a.offsetParent,b+a.offsetLeft)},i.bindShowTriggers=function(){y.bind(C,l),Q&&y.bind("click",m)},i.bindHideTriggers=function(){y.bind(D,n)},i.clearTriggers=function(){y.unbind(C,l),y.unbind(D,n)},i.bindShowTriggers(),i.showTooltip=function(){p.addClass(h+"open"),p.css("transition","opacity "+K+"ms linear"),i.clearTriggers(),i.bindHideTriggers()},i.hideTooltip=function(){p.removeClass(h+"open"),p.css("transition",""),i.clearTriggers(),i.bindShowTriggers()},i.removePosition=function(){p.removeClass(h+"left").removeClass(h+"right").removeClass(h+"top").removeClass(h+"bottom ")},i.tooltipPositioning=function(a){i.removePosition();var b,c;"small"===G?s=e:"medium"===G?s=f:"large"===G&&(s=g),"left"===a&&(b=v+t/2-q/2,c=w-(r+s),p.css("top",b+"px"),p.css("left",c+"px"),p.addClass(h+"left")),"right"===a&&(b=v+t/2-q/2,c=w+u+s,p.css("top",b+"px"),p.css("left",c+"px"),p.addClass(h+"right")),"top"===a&&(b=v-s-q,c=w+u/2-r/2,p.css("top",b+"px"),p.css("left",c+"px"),p.addClass(h+"top")),"bottom"===a&&(b=v+t+s,c=w+u/2-r/2,p.css("top",b+"px"),p.css("left",c+"px"),p.addClass(h+"bottom"))},i.tooltipTryPosition=function(){var a=p[0].offsetHeight,c=p[0].offsetWidth,d=p[0].offsetTop,e=p[0].offsetLeft,f=b.outerWidth,g=b.outerHeight,h=f-(c+e),j=g-(a+d),k=y[0].offsetHeight,l=y[0].offsetWidth,m=y[0].offsetLeft,n=y[0].offsetTop,o=f-(m+l),q=g-(k+n),r={left:e,top:d,bottom:j,right:h},s={left:m,right:o,top:n,bottom:q},t=Object.keys(s).reduce(function(a,b){return s[a]>s[b]?a:b}),u=Object.keys(r).reduce(function(a,b){return r[a]<r[b]?a:b});E!==t&&r[u]<20&&(F=t,i.tooltipPositioning(F),i.initTooltip(t))},a.element(b).bind("resize",o),i.$on("$destroy",function(){a.element(b).unbind("resize",o),i.clearTriggers(),Q&&y.unbind("click",m),p.remove()}),k.tooltipTitle?k.$observe("tooltipTitle",function(a){i.title=a,i.initTooltip(F)}):k.title&&k.$observe("title",function(a){i.title=a,i.initTooltip(F)}),k.tooltipContent&&k.$observe("tooltipContent",function(a){i.content=a,i.initTooltip(F)})}}}])}(angular);
//# sourceMappingURL=angular-tooltips.sourcemap.map